---
import { getCollection } from "astro:content";

import Layout from "../../layouts/Layout.astro";
import BlogPost from "../../features/blog/BlogPost.astro";

const blogPosts = (await getCollection("blog")).filter(
  (post) => post.data.publish
);
---

<Layout title="Welcome to my blog">
  <div class="container mx-auto px-2 md:px-4 lg:px-8">
    {blogPosts.map((post) => <BlogPost post={post} />)}
  </div>
</Layout>
